{% extends 'layout.html' %}

{% block title %}Products - Flask E-commerce{% endblock %}

{% block content %}
    <h1>Our Products</h1>
    <div class="product-grid">
        {% for id, product in products.items() %}
            <div class="product-card">
                <a href="{{ url_for('product_detail', product_id=id) }}">
                    <img src="https://placehold.co/400x300?text={{ product.name|replace(' ', '+') }}" alt="{{ product.name }}">
                    <h2>{{ product.name }}</h2>
                    <p class="price">${{ "%.2f"|format(product.price) }}</p>
                </a>
                <form action="{{ url_for('add_to_cart', product_id=id) }}" method="post">
                    <button type="submit" class="btn">Add to Cart</button>
                </form>
            </div>
        {% endfor %}
    </div>
{% endblock %}
